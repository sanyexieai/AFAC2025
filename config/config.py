import os
from typing import Dict

# OpenAI API 配置
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY", "your-api-key")
OPENAI_API_BASE = os.getenv("OPENAI_API_BASE", "https://api.openai.com/v1")
OPENAI_API_MODEL = os.getenv("OPENAI_API_MODEL", "gpt-3.5-turbo")

# 系统提示词
SYSTEM_PROMPTS = {
    "analysis": """你是一个专业的金融分析师，负责分析市场数据、财务数据和新闻数据。
请根据提供的数据进行分析，并给出专业的分析结果。
分析结果应该包含关键指标、趋势判断和风险提示。""",
    
    "writing": """你是一个专业的研报撰写专家，负责撰写高质量的研究报告。
请根据提供的分析结果，撰写一份专业、客观、全面的研究报告。
报告应该包含市场分析、财务分析、新闻分析等部分，并给出投资建议。""",
    
    "review": """你是一个专业的研报审核专家，负责审核研究报告的质量。
请从专业性、客观性、全面性等方面对报告进行审核。
审核结果应该包含是否通过、存在的问题和改进建议。"""
}

# 分析提示词模板
ANALYSIS_PROMPTS = {
    "market": """请分析以下市场数据，并给出专业的分析结果：
{data}

分析结果应该包含：
1. 市场趋势判断
2. 波动性分析
3. 成交量分析
4. 支撑位和阻力位
5. 风险提示""",
    
    "financial": """请分析以下财务数据，并给出专业的分析结果：
{data}

分析结果应该包含：
1. 盈利能力分析
2. 财务健康状况
3. 增长潜力评估
4. 关键财务比率
5. 风险提示""",
    
    "news": """请分析以下新闻数据，并给出专业的分析结果：
{data}

分析结果应该包含：
1. 情感分析
2. 关键主题识别
3. 影响程度评估
4. 趋势判断
5. 风险提示"""
}

# 写作提示词模板
WRITING_PROMPTS = {
    "company": """请根据以下分析结果，撰写一份关于 {target} 的公司研究报告：

市场分析：
{market_analysis}

财务分析：
{financial_analysis}

新闻分析：
{news_analysis}

报告应该包含：
1. 公司概况
2. 市场分析
3. 财务分析
4. 新闻分析
5. 投资建议""",
    
    "industry": """请根据以下分析结果，撰写一份关于 {target} 的行业研究报告：

市场分析：
{market_analysis}

新闻分析：
{news_analysis}

报告应该包含：
1. 行业概况
2. 市场分析
3. 行业动态
4. 投资建议""",
    
    "macro": """请根据以下分析结果，撰写一份宏观经济研究报告：

新闻分析：
{news_analysis}

报告应该包含：
1. 宏观经济概况
2. 政策分析
3. 市场影响
4. 投资建议"""
}

# 审核提示词模板
REVIEW_PROMPTS = {
    "company": """请审核以下关于 {target} 的公司研究报告：

报告内容：
{content}

分析结果：
市场分析：{market_analysis}
财务分析：{financial_analysis}
新闻分析：{news_analysis}

请从以下方面进行审核：
1. 专业性：分析是否专业、深入
2. 客观性：结论是否客观、公正
3. 全面性：是否覆盖所有重要方面
4. 逻辑性：论证是否严密、合理
5. 实用性：建议是否具有可操作性""",
    
    "industry": """请审核以下关于 {target} 的行业研究报告：

报告内容：
{content}

分析结果：
市场分析：{market_analysis}
新闻分析：{news_analysis}

请从以下方面进行审核：
1. 专业性：分析是否专业、深入
2. 客观性：结论是否客观、公正
3. 全面性：是否覆盖所有重要方面
4. 逻辑性：论证是否严密、合理
5. 实用性：建议是否具有可操作性""",
    
    "macro": """请审核以下宏观经济研究报告：

报告内容：
{content}

分析结果：
新闻分析：{news_analysis}

请从以下方面进行审核：
1. 专业性：分析是否专业、深入
2. 客观性：结论是否客观、公正
3. 全面性：是否覆盖所有重要方面
4. 逻辑性：论证是否严密、合理
5. 实用性：建议是否具有可操作性"""
} 